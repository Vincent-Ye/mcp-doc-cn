---
标题: 检测器（Inspector）
描述: 深入指南，教你使用 MCP 检测器测试和调试 Model Context Protocol 服务器
---

[MCP 检测器 (Inspector)](https://github.com/modelcontextprotocol/inspector) 是一个交互式开发者工具，用于测试和调试 MCP 服务器。虽然 [调试指南](/docs/tools/debugging) 涵盖了检测器作为整体调试工具的一部分，本文件更详细地探讨了检测器的功能和特点。

## 入门

### 安装和基本用法

检测器可以通过 `npx` 直接运行，无需安装：

```bash
npx @modelcontextprotocol/inspector <command>
```

```bash
npx @modelcontextprotocol/inspector <command> <arg1> <arg2>
```

#### 使用 NPM 或 PyPi 的服务器进行检测

一种常用方式是通过 [NPM](https://npmjs.com) 或 [PyPi](https://pypi.com) 启动服务器包。

<Tabs>

  <Tab title="NPM 包">
  ```bash
  npx -y @modelcontextprotocol/inspector npx <package-name> <args>
  # 示例
  npx -y @modelcontextprotocol/inspector npx server-postgres postgres://127.0.0.1/testdb
  ```
  </Tab>

  <Tab title="PyPi 包">
  ```bash
  npx @modelcontextprotocol/inspector uvx <package-name> <args>
  # 示例
  npx @modelcontextprotocol/inspector uvx mcp-server-git --repository ~/code/mcp/servers.git
  ```
  </Tab>
</Tabs>

#### 检测本地开发的服务器

如果检测本地开发或下载的服务器，最常用的方法是：

<Tabs>
  <Tab title="TypeScript">
  ```bash
  npx @modelcontextprotocol/inspector node path/to/server/index.js args...
  ```
  </Tab>
  <Tab title="Python">
  ```bash
  npx @modelcontextprotocol/inspector \
    uv \
    --directory path/to/server \
    run \
    package-name \
    args...
  ```
  </Tab>
</Tabs>

请仔细阅读附带的 README 文档以获取最准确的使用指令。

## 功能概览

<Frame caption="MCP 检测器界面">
  <img src="/images/mcp-inspector.png" />
</Frame>

检测器提供了多种功能来与 MCP 服务器进行交互：

### 服务器连接面板
- 允许选择连接服务器所使用的 [传输方式](/docs/concepts/transports)
- 对于本地服务器，可定制命令行参数和环境配置

### 资源标签页
- 列出所有可用的资源
- 显示资源的元数据（MIME 类型、描述等）
- 支持资源内容检查
- 可进行订阅测试

### 提示标签页
- 显示可用的提示模板
- 展示提示参数及描述
- 基于自定义参数测试提示
- 预览生成消息

### 工具标签页
- 列出可用工具
- 显示工具的 schema 和描述
- 可针对自定义输入进行工具测试
- 显示工具执行结果

### 通知面板
- 展示服务器记录的所有日志
- 显示来自服务器的通知

## 最佳实践

### 开发工作流程

1. 开始开发
   - 用检测器启动你的服务器
   - 验证基本连接能力
   - 检查能力协商情况

2. 迭代测试
   - 修改服务器代码
   - 重建服务器
   - 重新连接检测器
   - 测试受影响的功能
   - 监控消息

3. 测试边缘情况
   - 输入无效的数据
   - 缺少提示参数
   - 并发操作
   - 验证错误处理和错误响应

## 后续步骤

<CardGroup cols={2}>
    <Card
        title="检测器代码仓库"
        icon="github"
        href="https://github.com/modelcontextprotocol/inspector"
    >
        查看 MCP 检测器的源码
    </Card>

    <Card
        title="调试指南"
        icon="bug"
        href="/docs/tools/debugging"
    >
        了解更广泛的调试策略
    </Card>
</CardGroup>